-- 테이블 전체 생성
-- ctrl + A 
-- ctrl + Enter

--회원번호 시퀀스
CREATE SEQUENCE SCOTT.O_USER_SEQ
NOCACHE;
--주문번호 시퀀스
CREATE SEQUENCE O_ORDER_SEQ
NOCACHE;
--주문상세 시퀀스
CREATE SEQUENCE O_ORDDETAIL_SEQ
NOCACHE;
--배송지 시퀀스
CREATE SEQUENCE O_ADDRESS_SEQ
NOCACHE;
--장바구니 시퀀스
CREATE SEQUENCE addcart_seq
NOCACHE;
--쿠폰발급 시퀀스
CREATE SEQUENCE O_ISSUEDCOUPON_SEQ
NOCACHE;

/* 회원 */
CREATE TABLE SCOTT.OUSER (
    USERID NUMBER NOT NULL, /* 회원 ID (PK) */
    MEMID NUMBER, /* 멤버십 ID */
    AUTHID NUMBER, /* 권한 ID */
    USERNAME VARCHAR2(20) NOT NULL, /* 아이디 */
    PASSWORD VARCHAR2(100) NOT NULL, /* 비밀번호 */
    NAME NVARCHAR2(10) NOT NULL, /* 이름 */
    USEREMAIL VARCHAR2(100) NOT NULL, /* 이메일 */
    USERTEL VARCHAR2(20) NOT NULL, /* 휴대폰 */
    USERBIRTH DATE NOT NULL, /* 생년월일 */
    USERPOINT NUMBER DEFAULT 0, /* 적립금 */
    USERSNSAGREE CHAR(1) DEFAULT 'N', /* SNS 수신 동의 */
    USERJOINDATE DATE, /* 가입일 */
    ENABLED NUMBER(1) DEFAULT 'Y', /* 계정 활성화 여부 */
    CONSTRAINT PK_OUSER PRIMARY KEY (USERID)
);

/* 권한 */
CREATE TABLE SCOTT.AUTH (
    USERID NUMBER NOT NULL, /* 외래 키 */
    AUTHORITY VARCHAR2(50) NOT NULL, /* 권한 */
    CONSTRAINT FK_AUTH_USER FOREIGN KEY (USERID) REFERENCES SCOTT.OUSER(USERID)
);

COMMENT ON TABLE SCOTT.OUSER IS '회원';

COMMENT ON COLUMN SCOTT.OUSER.USERID IS '회원 ID';

COMMENT ON COLUMN SCOTT.OUSER.MEMID IS '멤버십 ID';

COMMENT ON COLUMN SCOTT.OUSER.AUTHID IS '권한 ID';

COMMENT ON COLUMN SCOTT.OUSER.USERLOGINID IS '아이디';

COMMENT ON COLUMN SCOTT.OUSER.USERPASSWORD IS '비밀번호';

COMMENT ON COLUMN SCOTT.OUSER.USERNAME IS '이름';

COMMENT ON COLUMN SCOTT.OUSER.USEREMAIL IS '이메일';

COMMENT ON COLUMN SCOTT.OUSER.USERTEL IS '휴대폰';

COMMENT ON COLUMN SCOTT.OUSER.USERBIRTH IS '생년월일';

COMMENT ON COLUMN SCOTT.OUSER.USERPOINT IS '적립금';

COMMENT ON COLUMN SCOTT.OUSER.USERSNSAGREE IS 'SNS수신동의';

COMMENT ON COLUMN SCOTT.OUSER.USERJOINDATE IS '가입일';

CREATE UNIQUE INDEX SCOTT.PKOUSER
	ON SCOTT.OUSER (
		USERID ASC
	);

CREATE UNIQUE INDEX SCOTT.UIXOUSER
	ON SCOTT.OUSER (
		USERLOGINID ASC,
		USEREMAIL ASC
	);

ALTER TABLE SCOTT.OUSER
	ADD
		CONSTRAINT PKOUSER
		PRIMARY KEY (
			USERID
		);

ALTER TABLE SCOTT.OUSER
	ADD
		CONSTRAINT UKOUSER
		UNIQUE (
			USERLOGINID,
			USEREMAIL
		);

/* 상품 */
CREATE TABLE SCOTT.OPRODUCT (
	PDTID NUMBER NOT NULL, /* 상품 ID */
	CATID NUMBER, /* 카테고리 ID */
	SCATID NUMBER, /* 하위카테고리 ID */
	PDTNUMBER NUMBER DEFAULT 0, /* 옵션갯수 */
	PDTNAME NVARCHAR2(50) NOT NULL, /* 상품명 */
	PDTAMOUNT NUMBER, /* 상품가격 */
	PDTDISCOUNTRATE NUMBER DEFAULT 0, /* 할인율 */
	PDTIMGURL VARCHAR2(50), /* 이미지경로 */
	PDTCOUNT NUMBER DEFAULT 0 NOT NULL, /* 재고수량 */
	PDTREVIEWCOUNT NUMBER DEFAULT 0 NOT NULL, /* 리뷰 수 */
	PDTSALESCOUNT NUMBER DEFAULT 0 NOT NULL, /* 판매 수량 */
	PDTADDDATE DATE NOT NULL, /* 상품 등록일 */
	PDTVIEWCOUNT NUMBER DEFAULT 0 NOT NULL, /* 조회수 */
	PDTIMGURL2 VARCHAR2(50) /* 이미지경로 */
);

COMMENT ON TABLE SCOTT.OPRODUCT IS '상품';

COMMENT ON COLUMN SCOTT.OPRODUCT.PDTID IS '상품 ID';

COMMENT ON COLUMN SCOTT.OPRODUCT.CATID IS '카테고리 ID';

COMMENT ON COLUMN SCOTT.OPRODUCT.SCATID IS '하위카테고리 ID';

COMMENT ON COLUMN SCOTT.OPRODUCT.PDTNUMBER IS '옵션갯수';

COMMENT ON COLUMN SCOTT.OPRODUCT.PDTNAME IS '상품명';

COMMENT ON COLUMN SCOTT.OPRODUCT.PDTAMOUNT IS '상품가격';

COMMENT ON COLUMN SCOTT.OPRODUCT.PDTDISCOUNTRATE IS '할인율';

COMMENT ON COLUMN SCOTT.OPRODUCT.PDTIMGURL IS '이미지경로';

COMMENT ON COLUMN SCOTT.OPRODUCT.PDTCOUNT IS '재고수량';

COMMENT ON COLUMN SCOTT.OPRODUCT.PDTREVIEWCOUNT IS '리뷰 수';

COMMENT ON COLUMN SCOTT.OPRODUCT.PDTSALESCOUNT IS '판매 수량';

COMMENT ON COLUMN SCOTT.OPRODUCT.PDTADDDATE IS '상품 등록일';

COMMENT ON COLUMN SCOTT.OPRODUCT.PDTVIEWCOUNT IS '조회수';

CREATE UNIQUE INDEX SCOTT.PKOPRODUCT
	ON SCOTT.OPRODUCT (
		PDTID ASC
	);

ALTER TABLE SCOTT.OPRODUCT
	ADD
		CONSTRAINT PKOPRODUCT
		PRIMARY KEY (
			PDTID
		);

/* 장바구니 삭제함 */



/* 리뷰 */
CREATE TABLE SCOTT.OREVIEW (
	REVID NUMBER NOT NULL, /* 리뷰 ID */
	USERID NUMBER, /* 회원 ID */
	ORDPK NUMBER, /* 주문 ID */
	OPDTID NUMBER, /* 주문상세 ID */
	REVCONTENT VARCHAR2(1500) NOT NULL, /* 리뷰 내용 */
	REVWRITEDATE DATE NOT NULL, /* 리뷰 작성 날짜 */
	REVRATING NUMBER(1) DEFAULT 5 NOT NULL, /* 별점 */
	REVGOODCOUNT NUMBER DEFAULT 0, /* 추천수 */
	REVBADCOUNT NUMBER, /* 비추천수 */
	REVCOMMENTCOUNT NUMBER DEFAULT 0, /* 댓글수 */
	REVISRECOMMEND CHAR(1) DEFAULT 'N', /* 관리자 추천 리뷰 */
	REVISPHOTO CHAR(1) DEFAULT 'N', /* 포토영상 리뷰 */
	REVAGEGROUP VARCHAR2(20), /* 연령대 */
	REVOPTION VARCHAR2(20) /* 구매상품 옵션 */
);

COMMENT ON TABLE SCOTT.OREVIEW IS '리뷰';

COMMENT ON COLUMN SCOTT.OREVIEW.REVID IS '리뷰 ID';

COMMENT ON COLUMN SCOTT.OREVIEW.USERID IS '회원 ID';

COMMENT ON COLUMN SCOTT.OREVIEW.ORDPK IS '주문 ID';

COMMENT ON COLUMN SCOTT.OREVIEW.OPDTID IS '주문상세 ID';

COMMENT ON COLUMN SCOTT.OREVIEW.REVCONTENT IS '리뷰 내용';

COMMENT ON COLUMN SCOTT.OREVIEW.REVWRITEDATE IS '리뷰 작성 날짜';

COMMENT ON COLUMN SCOTT.OREVIEW.REVRATING IS '별점';

COMMENT ON COLUMN SCOTT.OREVIEW.REVGOODCOUNT IS '추천수';

COMMENT ON COLUMN SCOTT.OREVIEW.REVBADCOUNT IS '비추천수';

COMMENT ON COLUMN SCOTT.OREVIEW.REVCOMMENTCOUNT IS '댓글수';

COMMENT ON COLUMN SCOTT.OREVIEW.REVISRECOMMEND IS '관리자 추천 리뷰';

COMMENT ON COLUMN SCOTT.OREVIEW.REVISPHOTO IS '포토영상 리뷰';

COMMENT ON COLUMN SCOTT.OREVIEW.REVAGEGROUP IS '연령대';

COMMENT ON COLUMN SCOTT.OREVIEW.REVOPTION IS '구매상품 옵션';

CREATE UNIQUE INDEX SCOTT.PKOREVIEW
	ON SCOTT.OREVIEW (
		REVID ASC
	);

ALTER TABLE SCOTT.OREVIEW
	ADD
		CONSTRAINT PKOREVIEW
		PRIMARY KEY (
			REVID
		);

/* 결제 */
CREATE TABLE SCOTT.OPAYMENT (
	PAYID NUMBER NOT NULL, /* 결제 ID */
	ORDPK NUMBER NOT NULL, /* 주문 ID */
	USERID NUMBER, /* 회원 ID */
	PAYAMOUNT NUMBER, /* 결제 금액 */
	PAYDATE DATE, /* 결제일 */
	PAYOPTION VARCHAR2(30), /* 결제 수단 */
	PAYSTATE VARCHAR2(30), /* 결제 상태 */
	PAYTRADENUMBER VARCHAR2(30) /* 거래 번호 */
);

COMMENT ON TABLE SCOTT.OPAYMENT IS '결제';

COMMENT ON COLUMN SCOTT.OPAYMENT.PAYID IS '결제 ID';

COMMENT ON COLUMN SCOTT.OPAYMENT.ORDPK IS '주문 PK';

COMMENT ON COLUMN SCOTT.OPAYMENT.USERID IS '회원 ID';

COMMENT ON COLUMN SCOTT.OPAYMENT.PAYAMOUNT IS '결제 금액';

COMMENT ON COLUMN SCOTT.OPAYMENT.PAYDATE IS '결제일';

COMMENT ON COLUMN SCOTT.OPAYMENT.PAYOPTION IS '결제 수단';

COMMENT ON COLUMN SCOTT.OPAYMENT.PAYSTATE IS '결제 상태';

COMMENT ON COLUMN SCOTT.OPAYMENT.PAYTRADENUMBER IS '거래 번호';

CREATE UNIQUE INDEX SCOTT.PKOPAYMENT
	ON SCOTT.OPAYMENT (
		PAYID ASC,
		ORDPK ASC
	);

CREATE UNIQUE INDEX SCOTT.UIXOPAYMENT
	ON SCOTT.OPAYMENT (
		PAYTRADENUMBER ASC
	);

ALTER TABLE SCOTT.OPAYMENT
	ADD
		CONSTRAINT PKOPAYMENT
		PRIMARY KEY (
			PAYID,
			ORDPK
		);

ALTER TABLE SCOTT.OPAYMENT
	ADD
		CONSTRAINT UKOPAYMENT
		UNIQUE (
			PAYTRADENUMBER
		);

/* 멤버십 */
CREATE TABLE SCOTT.OMEMBERSHIP (
	MEMID NUMBER NOT NULL, /* 멤버십 ID */
	MEMNAME VARCHAR2(10), /* 멤버십명 */
	MEMBENEFIT NUMBER, /* 적립 혜택 */
	MEMGRADETIER NUMBER /* 등급 기준 */
);

COMMENT ON TABLE SCOTT.OMEMBERSHIP IS '멤버십';

COMMENT ON COLUMN SCOTT.OMEMBERSHIP.MEMID IS '멤버십 ID';

COMMENT ON COLUMN SCOTT.OMEMBERSHIP.MEMNAME IS '멤버십명';

COMMENT ON COLUMN SCOTT.OMEMBERSHIP.MEMBENEFIT IS '적립 혜택';

COMMENT ON COLUMN SCOTT.OMEMBERSHIP.MEMGRADETIER IS '등급 기준';

CREATE UNIQUE INDEX SCOTT.PKOMEMBERSHIP
	ON SCOTT.OMEMBERSHIP (
		MEMID ASC
	);

ALTER TABLE SCOTT.OMEMBERSHIP
	ADD
		CONSTRAINT PKOMEMBERSHIP
		PRIMARY KEY (
			MEMID
		);

/* 쿠폰 */
CREATE TABLE SCOTT.OCOUPON (
	CPNDISCOUNTRATE NUMBER, /* 할인율 */
	CPNINFO NVARCHAR2(50), /* 쿠폰 설명 */
	CPNSTARTDATE DATE, /* 쿠폰시작일 */
	CPNAPPLY CHAR(1) DEFAULT 'P', /* 적용대상 */
	CPNENDDATE DATE, /* 쿠폰종료일 */
	CPNMAXAMOUNT NUMBER, /* 최대금액 */
	CPNCONVALUE VARCHAR2(30), /* 조건값 */
	CPNID NUMBER NOT NULL, /* 쿠폰 ID */
	CPNCONTYPE VARCHAR2(15), /* 조건유형 */
	CPNDISCOUNTTYPE CHAR(1) /* 할인유형 */
);

COMMENT ON TABLE SCOTT.OCOUPON IS '쿠폰';

COMMENT ON COLUMN SCOTT.OCOUPON.CPNDISCOUNTRATE IS '할인율';

COMMENT ON COLUMN SCOTT.OCOUPON.CPNINFO IS '쿠폰 설명';

COMMENT ON COLUMN SCOTT.OCOUPON.CPNSTARTDATE IS '쿠폰시작일';

COMMENT ON COLUMN SCOTT.OCOUPON.CPNAPPLY IS '적용대상';

COMMENT ON COLUMN SCOTT.OCOUPON.CPNENDDATE IS '쿠폰종료일';

COMMENT ON COLUMN SCOTT.OCOUPON.CPNMAXAMOUNT IS '최대금액';

COMMENT ON COLUMN SCOTT.OCOUPON.CPNCONVALUE IS '조건값';

COMMENT ON COLUMN SCOTT.OCOUPON.CPNID IS '쿠폰 ID';

COMMENT ON COLUMN SCOTT.OCOUPON.CPNCONTYPE IS '조건유형';

COMMENT ON COLUMN SCOTT.OCOUPON.CPNDISCOUNTTYPE IS '할인유형';

CREATE UNIQUE INDEX SCOTT.PKOCOUPON
	ON SCOTT.OCOUPON (
		CPNID ASC
	);

ALTER TABLE SCOTT.OCOUPON
	ADD
		CONSTRAINT PKOCOUPON
		PRIMARY KEY (
			CPNID
		);

/* 주문 - CLISTID 컬럼 삭제함 ZIPCODE 우편번호 추가*/
CREATE TABLE SCOTT.OORDER (
	ORDPK NUMBER NOT NULL,  /* 주문 PK */
	ORDID VARCHAR2(30) NOT NULL, /* 주문 ID */
	USERID NUMBER, /* 회원 ID */
	ICPNID NUMBER, /* 발급쿠폰 ID */
	ORDNAME NVARCHAR2(10), /* 주문자명 */
	ORDADDRESS NVARCHAR2(200), /* 배송주소 */
	ORDZIPCODE CHAR(5) NOT NULL, /* 우편번호 */
	ORDTEL VARCHAR2(20), /* 전화번호 */
	ORDEMAIL VARCHAR2(100), /* 이메일 */
	ORDPASSWORD VARCHAR2(50), /* 주문 비밀번호 */
	ORDORDERDATE DATE, /* 주문일 */
	ORDTOTALAMOUNT NUMBER DEFAULT 0, /* 총 주문금액 */
	ORDCPNDISCOUNT NUMBER DEFAULT 0, /* 쿠폰 할인금액 */
	ORDPDTDISCOUNT NUMBER DEFAULT 0, /* 추가 할인금액 */
	ORDUSEPOINT NUMBER, /* 적립금사용 */
	ORDPAYOPTION VARCHAR2(30), /* 결제 수단 */
	ORDDELIVERYFEE NUMBER DEFAULT 3000 /* 배송비 */
);

COMMENT ON TABLE SCOTT.OORDER IS '주문';

COMMENT ON COLUMN SCOTT.OORDER.ORDPK IS '주문 PK';

COMMENT ON COLUMN SCOTT.OORDER.ORDID IS '주문 ID';

COMMENT ON COLUMN SCOTT.OORDER.USERID IS '회원 ID';

COMMENT ON COLUMN SCOTT.OORDER.ICPNID IS '발급쿠폰 ID';

COMMENT ON COLUMN SCOTT.OORDER.ORDNAME IS '주문자명';

COMMENT ON COLUMN SCOTT.OORDER.ORDADDRESS IS '배송주소';

COMMENT ON COLUMN SCOTT.OORDER.ORDZIPCODE IS '우편번호';

COMMENT ON COLUMN SCOTT.OORDER.ORDTEL IS '전화번호';

COMMENT ON COLUMN SCOTT.OORDER.ORDEMAIL IS '이메일';

COMMENT ON COLUMN SCOTT.OORDER.ORDPASSWORD IS '주문 비밀번호';

COMMENT ON COLUMN SCOTT.OORDER.ORDORDERDATE IS '주문일';

COMMENT ON COLUMN SCOTT.OORDER.ORDTOTALAMOUNT IS '총 주문금액';

COMMENT ON COLUMN SCOTT.OORDER.ORDCPNDISCOUNT IS '쿠폰 할인금액';

COMMENT ON COLUMN SCOTT.OORDER.ORDPDTDISCOUNT IS '추가 할인금액';

COMMENT ON COLUMN SCOTT.OORDER.ORDUSEPOINT IS '적립금사용';

COMMENT ON COLUMN SCOTT.OORDER.ORDPAYOPTION IS '결제 수단';

COMMENT ON COLUMN SCOTT.OORDER.ORDDELIVERYFEE IS '배송비';

CREATE UNIQUE INDEX SCOTT.PKOORDER
	ON SCOTT.OORDER (
		ORDPK ASC
	);

ALTER TABLE SCOTT.OORDER
	ADD
		CONSTRAINT PKOORDER
		PRIMARY KEY (
			ORDPK
		);

/* 댓글 */
CREATE TABLE SCOTT.OCOMMENT (
	CMTID NUMBER NOT NULL, /* 댓글 ID */
	REVID NUMBER, /* 리뷰 ID */
	USERID NUMBER, /* 회원 ID */
	CMTWRITEDATE DATE NOT NULL, /* 작성 일자 */
	CMTCONTENT CLOB NOT NULL /* 댓글 내용 */
);

COMMENT ON TABLE SCOTT.OCOMMENT IS '댓글';

COMMENT ON COLUMN SCOTT.OCOMMENT.CMTID IS '댓글 ID';

COMMENT ON COLUMN SCOTT.OCOMMENT.REVID IS '리뷰 ID';

COMMENT ON COLUMN SCOTT.OCOMMENT.USERID IS '회원 ID';

COMMENT ON COLUMN SCOTT.OCOMMENT.CMTWRITEDATE IS '작성 일자';

COMMENT ON COLUMN SCOTT.OCOMMENT.CMTCONTENT IS '댓글 내용';

CREATE UNIQUE INDEX SCOTT.PKOCOMMENT
	ON SCOTT.OCOMMENT (
		CMTID ASC
	);

ALTER TABLE SCOTT.OCOMMENT
	ADD
		CONSTRAINT PKOCOMMENT
		PRIMARY KEY (
			CMTID
		);

/* 카테고리 */
CREATE TABLE SCOTT.OCATEGORY (
	CATID NUMBER NOT NULL, /* 카테고리 ID */
	CATNAME NVARCHAR2(20) NOT NULL /* 카테고리명 */
);

COMMENT ON TABLE SCOTT.OCATEGORY IS '카테고리';

COMMENT ON COLUMN SCOTT.OCATEGORY.CATID IS '카테고리 ID';

COMMENT ON COLUMN SCOTT.OCATEGORY.CATNAME IS '카테고리명';

CREATE UNIQUE INDEX SCOTT.PKOCATEGORY
	ON SCOTT.OCATEGORY (
		CATID ASC
	);

ALTER TABLE SCOTT.OCATEGORY
	ADD
		CONSTRAINT PKOCATEGORY
		PRIMARY KEY (
			CATID
		);

/* 이벤트 */
CREATE TABLE SCOTT.OEVENT (
	EVTID NUMBER NOT NULL, /* 이벤트 ID */
	EVTTITLE NVARCHAR2(50), /* 이벤트 제목 */
	EVTCONTENT VARCHAR2(3000), /* 이벤트 내용 */
	EVTSTARTDATE DATE NOT NULL, /* 이벤트 시작 날짜 */
	EVTENDDATE DATE NOT NULL, /* 이벤트 종료 날짜 */
	EVTCONTENTURL VARCHAR2(50) /* 이벤트 내용 URL */
);

COMMENT ON TABLE SCOTT.OEVENT IS '이벤트';

COMMENT ON COLUMN SCOTT.OEVENT.EVTID IS '이벤트 ID';

COMMENT ON COLUMN SCOTT.OEVENT.EVTTITLE IS '이벤트 제목';

COMMENT ON COLUMN SCOTT.OEVENT.EVTCONTENT IS '이벤트 내용';

COMMENT ON COLUMN SCOTT.OEVENT.EVTSTARTDATE IS '이벤트 시작 날짜';

COMMENT ON COLUMN SCOTT.OEVENT.EVTENDDATE IS '이벤트 종료 날짜';

COMMENT ON COLUMN SCOTT.OEVENT.EVTCONTENTURL IS '이벤트 내용 URL';

CREATE UNIQUE INDEX SCOTT.PKOEVENT
	ON SCOTT.OEVENT (
		EVTID ASC
	);

ALTER TABLE SCOTT.OEVENT
	ADD
		CONSTRAINT PKOEVENT
		PRIMARY KEY (
			EVTID
		);

/* 라인업 */
CREATE TABLE SCOTT.OLINEUP (
	LINEUPID NUMBER NOT NULL, /* 라인업 ID */
	LINEUPOPTION NVARCHAR2(20) NOT NULL /* 라인업 옵션 */
);

COMMENT ON TABLE SCOTT.OLINEUP IS '라인업';

COMMENT ON COLUMN SCOTT.OLINEUP.LINEUPID IS '라인업 ID';

COMMENT ON COLUMN SCOTT.OLINEUP.LINEUPOPTION IS '라인업 옵션';

CREATE UNIQUE INDEX SCOTT.PKOLINEUP
	ON SCOTT.OLINEUP (
		LINEUPID ASC
	);

ALTER TABLE SCOTT.OLINEUP
	ADD
		CONSTRAINT PKOLINEUP
		PRIMARY KEY (
			LINEUPID
		);

/* 디자인 */
CREATE TABLE SCOTT.ODESIGN (
	DESIGNID NUMBER NOT NULL, /* 디자인 ID */
	DESIGNOPTION NVARCHAR2(20) NOT NULL /* 디자인 옵션 */
);

COMMENT ON TABLE SCOTT.ODESIGN IS '디자인';

COMMENT ON COLUMN SCOTT.ODESIGN.DESIGNID IS '디자인 ID';

COMMENT ON COLUMN SCOTT.ODESIGN.DESIGNOPTION IS '디자인 옵션';

CREATE UNIQUE INDEX SCOTT.PKODESIGN
	ON SCOTT.ODESIGN (
		DESIGNID ASC
	);

ALTER TABLE SCOTT.ODESIGN
	ADD
		CONSTRAINT PKODESIGN
		PRIMARY KEY (
			DESIGNID
		);

/* 컬러 */
CREATE TABLE SCOTT.OCOLOR (
	COLORID NUMBER NOT NULL, /* 컬러 ID */
	COLOROPTION NVARCHAR2(20) NOT NULL /* 컬러 옵션 */
);

COMMENT ON TABLE SCOTT.OCOLOR IS '컬러';

COMMENT ON COLUMN SCOTT.OCOLOR.COLORID IS '컬러 ID';

COMMENT ON COLUMN SCOTT.OCOLOR.COLOROPTION IS '컬러 옵션';

CREATE UNIQUE INDEX SCOTT.PKOCOLOR
	ON SCOTT.OCOLOR (
		COLORID ASC
	);

ALTER TABLE SCOTT.OCOLOR
	ADD
		CONSTRAINT PKOCOLOR
		PRIMARY KEY (
			COLORID
		);

/* 하위카테고리 */
CREATE TABLE SCOTT.OSUBCATEGORY (
	SCATID NUMBER NOT NULL, /* 하위카테고리 ID */
	SCATNAME NVARCHAR2(20) NOT NULL /* 하위카테고리명 */
);

COMMENT ON TABLE SCOTT.OSUBCATEGORY IS '하위카테고리';

COMMENT ON COLUMN SCOTT.OSUBCATEGORY.SCATID IS '하위카테고리 ID';

COMMENT ON COLUMN SCOTT.OSUBCATEGORY.SCATNAME IS '하위카테고리명';

CREATE UNIQUE INDEX SCOTT.PKOSUBCATEGORY
	ON SCOTT.OSUBCATEGORY (
		SCATID ASC
	);

ALTER TABLE SCOTT.OSUBCATEGORY
	ADD
		CONSTRAINT PKOSUBCATEGORY
		PRIMARY KEY (
			SCATID
		);

/* 장바구니 목록 */
CREATE TABLE SCOTT.OCARTLIST (
	CLISTID NUMBER NOT NULL, /* 장바구니 목록 ID */
	USERID NUMBER, /* 유저 ID */
	PDTID NUMBER, /* 상품 ID */
	OPTID NUMBER, /* 옵션 ID */
	CLISTPDTCOUNT NUMBER, /* 상품 수량 */
	CLISTADDDATE DATE, /* 추가 날짜 */
	CLISTSELECT CHAR(1) DEFAULT 'Y' /* 선택 여부 */
);

COMMENT ON TABLE SCOTT.OCARTLIST IS '장바구니 목록';

COMMENT ON COLUMN SCOTT.OCARTLIST.CLISTID IS '장바구니 목록 ID';

COMMENT ON COLUMN SCOTT.OCARTLIST.USERID IS '유저 ID';

COMMENT ON COLUMN SCOTT.OCARTLIST.PDTID IS '상품 ID';

COMMENT ON COLUMN SCOTT.OCARTLIST.OPTID IS '옵션 ID';

COMMENT ON COLUMN SCOTT.OCARTLIST.CLISTPDTCOUNT IS '상품 수량';

COMMENT ON COLUMN SCOTT.OCARTLIST.CLISTADDDATE IS '추가 날짜';

COMMENT ON COLUMN SCOTT.OCARTLIST.CLISTSELECT IS '선택 여부';

CREATE UNIQUE INDEX SCOTT.PKOCARTLIST
	ON SCOTT.OCARTLIST (
		CLISTID ASC
	);

ALTER TABLE SCOTT.OCARTLIST
	ADD
		CONSTRAINT PKOCARTLIST
		PRIMARY KEY (
			CLISTID
		);

/* 발급쿠폰 */
CREATE TABLE SCOTT.OISSUEDCOUPON (
	ICPNID NUMBER NOT NULL, /* 발급쿠폰 ID */
	USERID NUMBER, /* 회원 ID */
	CPNID NUMBER, /* 쿠폰 ID */
	ICPNISSUEDATE DATE, /* 발급일 */
	ICPNISUSED CHAR(1) DEFAULT 'N' /* 사용여부 */
);

COMMENT ON TABLE SCOTT.OISSUEDCOUPON IS '발급쿠폰';

COMMENT ON COLUMN SCOTT.OISSUEDCOUPON.ICPNID IS '발급쿠폰 ID';

COMMENT ON COLUMN SCOTT.OISSUEDCOUPON.USERID IS '회원 ID';

COMMENT ON COLUMN SCOTT.OISSUEDCOUPON.CPNID IS '쿠폰 ID';

COMMENT ON COLUMN SCOTT.OISSUEDCOUPON.ICPNISSUEDATE IS '발급일';

COMMENT ON COLUMN SCOTT.OISSUEDCOUPON.ICPNISUSED IS '사용여부';

CREATE UNIQUE INDEX SCOTT.PKOISSUEDCOUPON
	ON SCOTT.OISSUEDCOUPON (
		ICPNID ASC
	);

ALTER TABLE SCOTT.OISSUEDCOUPON
	ADD
		CONSTRAINT PKOISSUEDCOUPON
		PRIMARY KEY (
			ICPNID
		);

/* 배송지 주소,나머지 주소 추가 */
CREATE TABLE SCOTT.OADDRESS (
    ADDRID NUMBER NOT NULL,         -- 배송지 ID
    USERID NUMBER,                  -- 회원 ID
    ADDRNICK NVARCHAR2(20) NOT NULL, -- 배송지명
    ADDRNAME NVARCHAR2(10) NOT NULL, -- 수령인
    ADDRHTEL VARCHAR2(20),           -- 일반전화
    ADDRTEL VARCHAR2(20) NOT NULL,   -- 휴대전화
    ADDRADDRESSMAIN NVARCHAR2(100) NOT NULL,  -- 기본 주소
    ADDRADDRESSDETAIL NVARCHAR2(100),         -- 나머지 주소
    ADDRZIPCODE CHAR(5) NOT NULL,   -- 우편번호
    ADDRMAIN CHAR(1) DEFAULT 'N'    -- 대표 배송지
);

COMMENT ON TABLE SCOTT.OADDRESS IS '배송지';

COMMENT ON COLUMN SCOTT.OADDRESS.ADDRID IS '배송지 ID';

COMMENT ON COLUMN SCOTT.OADDRESS.USERID IS '회원 ID';

COMMENT ON COLUMN SCOTT.OADDRESS.ADDRNICK IS '배송지명';

COMMENT ON COLUMN SCOTT.OADDRESS.ADDRNAME IS '수령인';

COMMENT ON COLUMN SCOTT.OADDRESS.ADDRHTEL IS '일반전화';

COMMENT ON COLUMN SCOTT.OADDRESS.ADDRTEL IS '휴대전화';

COMMENT ON COLUMN SCOTT.OADDRESS.ADDRADDRESS IS '주소';

COMMENT ON COLUMN SCOTT.OADDRESS.ADDRZIPCODE IS '우편번호';

COMMENT ON COLUMN SCOTT.OADDRESS.ADDRMAIN IS '대표 배송지';

CREATE UNIQUE INDEX SCOTT.PKOADDRESS
	ON SCOTT.OADDRESS (
		ADDRID ASC
	);

ALTER TABLE SCOTT.OADDRESS
	ADD
		CONSTRAINT PKOADDRESS
		PRIMARY KEY (
			ADDRID
		);

/* 상품옵션 */
CREATE TABLE SCOTT.OPDTOPTION (
	OPTID NUMBER NOT NULL, /* 옵션 ID */
	PDTID NUMBER, /* 상품 ID */
	OPTNAME NVARCHAR2(20) NOT NULL, /* 옵션명 */
	OPTAMOUNT NUMBER DEFAULT 0, /* 옵션 가격 */
	OPTCOUNT NUMBER DEFAULT 0 /* 재고수량 */
);

COMMENT ON TABLE SCOTT.OPDTOPTION IS '상품옵션';

COMMENT ON COLUMN SCOTT.OPDTOPTION.OPTID IS '옵션 ID';

COMMENT ON COLUMN SCOTT.OPDTOPTION.PDTID IS '상품 ID';

COMMENT ON COLUMN SCOTT.OPDTOPTION.OPTNAME IS '옵션명';

COMMENT ON COLUMN SCOTT.OPDTOPTION.OPTAMOUNT IS '옵션 가격';

COMMENT ON COLUMN SCOTT.OPDTOPTION.OPTCOUNT IS '재고수량';

CREATE UNIQUE INDEX SCOTT.PKOPDTOPTION
	ON SCOTT.OPDTOPTION (
		OPTID ASC
	);

ALTER TABLE SCOTT.OPDTOPTION
	ADD
		CONSTRAINT PKOPDTOPTION
		PRIMARY KEY (
			OPTID
		);

/* 상품별 컬러 항목 */
CREATE TABLE SCOTT.OPDTCOLOR (
	PDTID NUMBER, /* 상품 ID */
	COLORID NUMBER /* 컬러 ID */
);

COMMENT ON TABLE SCOTT.OPDTCOLOR IS '상품별 컬러 항목';

COMMENT ON COLUMN SCOTT.OPDTCOLOR.PDTID IS '상품 ID';

COMMENT ON COLUMN SCOTT.OPDTCOLOR.COLORID IS '컬러 ID';

/* 상품별 라인업 항목 */
CREATE TABLE SCOTT.OPDTLINEUP (
	PDTID NUMBER, /* 상품 ID */
	LINEUPID NUMBER /* 라인업 ID */
);

COMMENT ON TABLE SCOTT.OPDTLINEUP IS '상품별 라인업 항목';

COMMENT ON COLUMN SCOTT.OPDTLINEUP.PDTID IS '상품 ID';

COMMENT ON COLUMN SCOTT.OPDTLINEUP.LINEUPID IS '라인업 ID';

/* 상품별 디자인 항목 */
CREATE TABLE SCOTT.OPDTDESIGN (
	PDTID NUMBER, /* 상품 ID */
	DESIGNID NUMBER /* 디자인 ID */
);

COMMENT ON TABLE SCOTT.OPDTDESIGN IS '상품별 디자인 항목';

COMMENT ON COLUMN SCOTT.OPDTDESIGN.PDTID IS '상품 ID';

COMMENT ON COLUMN SCOTT.OPDTDESIGN.DESIGNID IS '디자인 ID';

/* 주문상세 */
CREATE TABLE SCOTT.OORDDETAIL (
	OPDTID NUMBER NOT NULL, /* 주문상세 ID */
	ORDPK NUMBER NOT NULL, /* 주문 ID */
	OPDTNAME NVARCHAR2(50), /* 상품명 */
	OPDTAMOUNT NUMBER DEFAULT 0, /* 주문상품 가격 */
	OPDTDCAMOUNT NUMBER DEFAULT 0, /* 할인상품 가격 */
	OPDTOPNAME NVARCHAR2(20), /* 옵션명 */
	OPDTOPAMOUNT NUMBER DEFAULT 0, /* 옵션 가격 */
	OPDTCOUNT NUMBER, /* 주문 갯수 */
	OPDTSTATE NVARCHAR2(30), /* 주문처리상태 */
	OPDTREFUND NVARCHAR2(30), /* 취소교환반품 */
	OPDTDELCOMPANY NVARCHAR2(30), /* 택배사 */
	OPDTDELNUMBER VARCHAR2(30), /* 송장번호 */
	OPDTCONFIRM CHAR(1) DEFAULT 'N' /* 구매확정 */
);

COMMENT ON TABLE SCOTT.OORDDETAIL IS '주문상세';

COMMENT ON COLUMN SCOTT.OORDDETAIL.OPDTID IS '주문상세 ID';

COMMENT ON COLUMN SCOTT.OORDDETAIL.ORDPK IS '주문 PK';

COMMENT ON COLUMN SCOTT.OORDDETAIL.OPDTNAME IS '상품명';

COMMENT ON COLUMN SCOTT.OORDDETAIL.OPDTAMOUNT IS '주문상품 가격';

COMMENT ON COLUMN SCOTT.OORDDETAIL.OPDTDCAMOUNT IS '할인상품 가격';

COMMENT ON COLUMN SCOTT.OORDDETAIL.OPDTOPNAME IS '옵션명';

COMMENT ON COLUMN SCOTT.OORDDETAIL.OPDTOPAMOUNT IS '옵션 가격';

COMMENT ON COLUMN SCOTT.OORDDETAIL.OPDTCOUNT IS '주문 갯수';

COMMENT ON COLUMN SCOTT.OORDDETAIL.OPDTSTATE IS '주문처리상태';

COMMENT ON COLUMN SCOTT.OORDDETAIL.OPDTREFUND IS '취소교환반품';

COMMENT ON COLUMN SCOTT.OORDDETAIL.OPDTDELCOMPANY IS '택배사';

COMMENT ON COLUMN SCOTT.OORDDETAIL.OPDTDELNUMBER IS '송장번호';

COMMENT ON COLUMN SCOTT.OORDDETAIL.OPDTCONFIRM IS '구매확정';

CREATE UNIQUE INDEX SCOTT.PKOORDDETAIL
	ON SCOTT.OORDDETAIL (
		OPDTID ASC,
		ORDPK ASC
	);

ALTER TABLE SCOTT.OORDDETAIL
	ADD
		CONSTRAINT PKOORDDETAIL
		PRIMARY KEY (
			OPDTID,
			ORDPK
		);

/* 권한 */
CREATE TABLE SCOTT.OAUTH (
	AUTHID NUMBER NOT NULL, /* 권한 ID */
	AUTHNAME VARCHAR2(20) /* 권한명 */
);

COMMENT ON TABLE SCOTT.OAUTH IS '권한';

COMMENT ON COLUMN SCOTT.OAUTH.AUTHID IS '권한 ID';

COMMENT ON COLUMN SCOTT.OAUTH.AUTHNAME IS '권한명';

CREATE UNIQUE INDEX SCOTT.PKOAUTH
	ON SCOTT.OAUTH (
		AUTHID ASC
	);

ALTER TABLE SCOTT.OAUTH
	ADD
		CONSTRAINT PKOAUTH
		PRIMARY KEY (
			AUTHID
		);

/* NOTICE */
CREATE TABLE SCOTT.ONOTICE (
	NOTICEID NUMBER NOT NULL, /* 게시물 ID */
	USERID NUMBER NOT NULL, /* 회원 ID */
	NOTICETITLE NVARCHAR2(50) NOT NULL, /* 제목 */
	NOTICECONTENT VARCHAR2(3000), /* 내용 */
	NOTICEWRITER NVARCHAR2(10), /* 작성자 */
	NOTICEVIEWCOUNT NUMBER DEFAULT 0, /* 조회수 */
	NOTICEWRITEDATE DATE, /* 작성일자 */
	NOTICEMODIFYDATE DATE /* 수정일자 */
);

COMMENT ON TABLE SCOTT.ONOTICE IS 'NOTICE';

COMMENT ON COLUMN SCOTT.ONOTICE.NOTICEID IS '게시물 ID';

COMMENT ON COLUMN SCOTT.ONOTICE.USERID IS '회원 ID';

COMMENT ON COLUMN SCOTT.ONOTICE.NOTICETITLE IS '제목';

COMMENT ON COLUMN SCOTT.ONOTICE.NOTICECONTENT IS '내용';

COMMENT ON COLUMN SCOTT.ONOTICE.NOTICEWRITER IS '작성자';

COMMENT ON COLUMN SCOTT.ONOTICE.NOTICEVIEWCOUNT IS '조회수';

COMMENT ON COLUMN SCOTT.ONOTICE.NOTICEWRITEDATE IS '작성일자';

COMMENT ON COLUMN SCOTT.ONOTICE.NOTICEMODIFYDATE IS '수정일자';

CREATE UNIQUE INDEX SCOTT.PKONOTICE
	ON SCOTT.ONOTICE (
		NOTICEID ASC
	);

ALTER TABLE SCOTT.ONOTICE
	ADD
		CONSTRAINT PKONOTICE
		PRIMARY KEY (
			NOTICEID
		);

/* FAQ카테고리 */
CREATE TABLE SCOTT.OFAQCATEGORY (
	FCATID NUMBER NOT NULL, /* 카테고리 ID */
	FCATNAME NVARCHAR2(15) /* 카테고리명 */
);

COMMENT ON TABLE SCOTT.OFAQCATEGORY IS 'FAQ카테고리';

COMMENT ON COLUMN SCOTT.OFAQCATEGORY.FCATID IS '카테고리 ID';

COMMENT ON COLUMN SCOTT.OFAQCATEGORY.FCATNAME IS '카테고리명';

CREATE UNIQUE INDEX SCOTT.PKOFAQCATEGORY
	ON SCOTT.OFAQCATEGORY (
		FCATID ASC
	);

ALTER TABLE SCOTT.OFAQCATEGORY
	ADD
		CONSTRAINT PKOFAQCATEGORY
		PRIMARY KEY (
			FCATID
		);

/* FAQ */
CREATE TABLE SCOTT.OFAQ (
	FAQID NUMBER NOT NULL, /* 게시물 ID */
	FCATID NUMBER, /* 카테고리 ID */
	USERID NUMBER NOT NULL, /* 회원 ID */
	FAQTITLE NVARCHAR2(50) NOT NULL, /* 제목 */
	FAQCONTENT VARCHAR2(3000), /* 내용 */
	FAQWRITER NVARCHAR2(10), /* 작성자 */
	FAQVIEWCOUNT NUMBER DEFAULT 0, /* 조회수 */
	FAQWRITEDATE DATE, /* 작성일자 */
	FAQMODIFYDATE DATE /* 수정일자 */
);

COMMENT ON TABLE SCOTT.OFAQ IS 'FAQ';

COMMENT ON COLUMN SCOTT.OFAQ.FAQID IS '게시물 ID';

COMMENT ON COLUMN SCOTT.OFAQ.FCATID IS '카테고리 ID';

COMMENT ON COLUMN SCOTT.OFAQ.USERID IS '회원 ID';

COMMENT ON COLUMN SCOTT.OFAQ.FAQTITLE IS '제목';

COMMENT ON COLUMN SCOTT.OFAQ.FAQCONTENT IS '내용';

COMMENT ON COLUMN SCOTT.OFAQ.FAQWRITER IS '작성자';

COMMENT ON COLUMN SCOTT.OFAQ.FAQVIEWCOUNT IS '조회수';

COMMENT ON COLUMN SCOTT.OFAQ.FAQWRITEDATE IS '작성일자';

COMMENT ON COLUMN SCOTT.OFAQ.FAQMODIFYDATE IS '수정일자';

CREATE UNIQUE INDEX SCOTT.PKOFAQ
	ON SCOTT.OFAQ (
		FAQID ASC
	);

ALTER TABLE SCOTT.OFAQ
	ADD
		CONSTRAINT PKOFAQ
		PRIMARY KEY (
			FAQID
		);

/* 1:1게시판 */
CREATE TABLE SCOTT.OASK (
	ASKID NUMBER NOT NULL, /* 게시물 ID */
	USERID NUMBER, /* 회원 ID */
	ASKTITLE NVARCHAR2(50), /* 제목 */
	ASKCONTENT VARCHAR2(3000), /* 내용 */
	ASKWRITER NVARCHAR2(10), /* 작성자 */
	ASKWRITEDATE DATE, /* 작성일자 */
	ASKMODIFYDATE DATE, /* 수정일자 */
	ASKISANSWER CHAR(1) DEFAULT 'X' /* 답변여부 */
);

COMMENT ON TABLE SCOTT.OASK IS '1:1게시판';

COMMENT ON COLUMN SCOTT.OASK.ASKID IS '게시물 ID';

COMMENT ON COLUMN SCOTT.OASK.USERID IS '회원 ID';

COMMENT ON COLUMN SCOTT.OASK.ASKTITLE IS '제목';

COMMENT ON COLUMN SCOTT.OASK.ASKCONTENT IS '내용';

COMMENT ON COLUMN SCOTT.OASK.ASKWRITER IS '작성자';

COMMENT ON COLUMN SCOTT.OASK.ASKWRITEDATE IS '작성일자';

COMMENT ON COLUMN SCOTT.OASK.ASKMODIFYDATE IS '수정일자';

COMMENT ON COLUMN SCOTT.OASK.ASKISANSWER IS '답변여부';

CREATE UNIQUE INDEX SCOTT.PKOASK
	ON SCOTT.OASK (
		ASKID ASC
	);

ALTER TABLE SCOTT.OASK
	ADD
		CONSTRAINT PKOASK
		PRIMARY KEY (
			ASKID
		);

/* 리뷰URL */
CREATE TABLE SCOTT.OREVURL (
	RURLID NUMBER NOT NULL, /* 리뷰URL ID */
	REVID NUMBER NOT NULL, /* 리뷰 ID */
	RURLPHOTO VARCHAR2(100), /* 포토URL */
	RURLRECORD VARCHAR2(100) /* 영상URL */
);

COMMENT ON TABLE SCOTT.OREVURL IS '리뷰URL';

COMMENT ON COLUMN SCOTT.OREVURL.RURLID IS '리뷰URL ID';

COMMENT ON COLUMN SCOTT.OREVURL.REVID IS '리뷰 ID';

COMMENT ON COLUMN SCOTT.OREVURL.RURLPHOTO IS '포토URL';

COMMENT ON COLUMN SCOTT.OREVURL.RURLRECORD IS '영상URL';

CREATE UNIQUE INDEX SCOTT.PKOREVURL
	ON SCOTT.OREVURL (
		RURLID ASC,
		REVID ASC
	);

ALTER TABLE SCOTT.OREVURL
	ADD
		CONSTRAINT PKOREVURL
		PRIMARY KEY (
			RURLID,
			REVID
		);

ALTER TABLE SCOTT.OUSER
	ADD
		CONSTRAINT FKOMEMBERSHIPTOOUSER
		FOREIGN KEY (
			MEMID
		)
		REFERENCES SCOTT.OMEMBERSHIP (
			MEMID
		);

ALTER TABLE SCOTT.OUSER
	ADD
		CONSTRAINT FKOAUTHTOOUSER
		FOREIGN KEY (
			AUTHID
		)
		REFERENCES SCOTT.OAUTH (
			AUTHID
		);

ALTER TABLE SCOTT.OPRODUCT
	ADD
		CONSTRAINT FKOCATEGORYTOOPRODUCT
		FOREIGN KEY (
			CATID
		)
		REFERENCES SCOTT.OCATEGORY (
			CATID
		);

ALTER TABLE SCOTT.OPRODUCT
	ADD
		CONSTRAINT FKOSUBCATEGORYTOOPRODUCT
		FOREIGN KEY (
			SCATID
		)
		REFERENCES SCOTT.OSUBCATEGORY (
			SCATID
		);

ALTER TABLE SCOTT.OREVIEW
	ADD
		CONSTRAINT FKOUSERTOOREVIEW
		FOREIGN KEY (
			USERID
		)
		REFERENCES SCOTT.OUSER (
			USERID
		);

ALTER TABLE SCOTT.OREVIEW
	ADD
		CONSTRAINT FKOORDDETAILTOOREVIEW
		FOREIGN KEY (
			OPDTID,
			ORDPK
		)
		REFERENCES SCOTT.OORDDETAIL (
			OPDTID,
			ORDPK
		);

ALTER TABLE SCOTT.OPAYMENT
	ADD
		CONSTRAINT FKOORDERTOOPAYMENT
		FOREIGN KEY (
			ORDPK
		)
		REFERENCES SCOTT.OORDER (
			ORDPK
		);

ALTER TABLE SCOTT.OPAYMENT
	ADD
		CONSTRAINT FKOUSERTOOPAYMENT
		FOREIGN KEY (
			USERID
		)
		REFERENCES SCOTT.OUSER (
			USERID
		);

ALTER TABLE SCOTT.OCOMMENT
	ADD
		CONSTRAINT FKOREVIEWTOOCOMMENT
		FOREIGN KEY (
			REVID
		)
		REFERENCES SCOTT.OREVIEW (
			REVID
		);

ALTER TABLE SCOTT.OCOMMENT
	ADD
		CONSTRAINT FKOUSERTOOCOMMENT
		FOREIGN KEY (
			USERID
		)
		REFERENCES SCOTT.OUSER (
			USERID
		);


ALTER TABLE SCOTT.OCARTLIST
	ADD
		CONSTRAINT FKOPRODUCTTOOCARTLIST
		FOREIGN KEY (
			PDTID
		)
		REFERENCES SCOTT.OPRODUCT (
			PDTID
		);

ALTER TABLE SCOTT.OISSUEDCOUPON
	ADD
		CONSTRAINT FKOUSERTOOISSUEDCOUPON
		FOREIGN KEY (
			USERID
		)
		REFERENCES SCOTT.OUSER (
			USERID
		);

ALTER TABLE SCOTT.OISSUEDCOUPON
	ADD
		CONSTRAINT FKOCOUPONTOOISSUEDCOUPON
		FOREIGN KEY (
			CPNID
		)
		REFERENCES SCOTT.OCOUPON (
			CPNID
		);

ALTER TABLE SCOTT.OADDRESS
	ADD
		CONSTRAINT FKOUSERTOOADDRESS
		FOREIGN KEY (
			USERID
		)
		REFERENCES SCOTT.OUSER (
			USERID
		);

ALTER TABLE SCOTT.OPDTOPTION
	ADD
		CONSTRAINT FKOPRODUCTTOOPDTOPTION
		FOREIGN KEY (
			PDTID
		)
		REFERENCES SCOTT.OPRODUCT (
			PDTID
		);

ALTER TABLE SCOTT.OPDTCOLOR
	ADD
		CONSTRAINT FKOPRODUCTTOOPDTCOLOR
		FOREIGN KEY (
			PDTID
		)
		REFERENCES SCOTT.OPRODUCT (
			PDTID
		);

ALTER TABLE SCOTT.OPDTCOLOR
	ADD
		CONSTRAINT FKOCOLORTOOPDTCOLOR
		FOREIGN KEY (
			COLORID
		)
		REFERENCES SCOTT.OCOLOR (
			COLORID
		);

ALTER TABLE SCOTT.OPDTLINEUP
	ADD
		CONSTRAINT FKOPRODUCTTOOPDTLINEUP
		FOREIGN KEY (
			PDTID
		)
		REFERENCES SCOTT.OPRODUCT (
			PDTID
		);

ALTER TABLE SCOTT.OPDTLINEUP
	ADD
		CONSTRAINT FKOLINEUPTOOPDTLINEUP
		FOREIGN KEY (
			LINEUPID
		)
		REFERENCES SCOTT.OLINEUP (
			LINEUPID
		);

ALTER TABLE SCOTT.OPDTDESIGN
	ADD
		CONSTRAINT FKOPRODUCTTOOPDTDESIGN
		FOREIGN KEY (
			PDTID
		)
		REFERENCES SCOTT.OPRODUCT (
			PDTID
		);

ALTER TABLE SCOTT.OPDTDESIGN
	ADD
		CONSTRAINT FKODESIGNTOOPDTDESIGN
		FOREIGN KEY (
			DESIGNID
		)
		REFERENCES SCOTT.ODESIGN (
			DESIGNID
		);

ALTER TABLE SCOTT.OORDDETAIL
	ADD
		CONSTRAINT FKOORDERTOOORDDETAIL
		FOREIGN KEY (
			ORDPK
		)
		REFERENCES SCOTT.OORDER (
			ORDPK
		);

ALTER TABLE SCOTT.ONOTICE
	ADD
		CONSTRAINT FKOUSERTOONOTICE
		FOREIGN KEY (
			USERID
		)
		REFERENCES SCOTT.OUSER (
			USERID
		);

ALTER TABLE SCOTT.OFAQ
	ADD
		CONSTRAINT FKOFAQCATEGORYTOOFAQ
		FOREIGN KEY (
			FCATID
		)
		REFERENCES SCOTT.OFAQCATEGORY (
			FCATID
		);

ALTER TABLE SCOTT.OFAQ
	ADD
		CONSTRAINT FKOUSERTOOFAQ
		FOREIGN KEY (
			USERID
		)
		REFERENCES SCOTT.OUSER (
			USERID
		);

ALTER TABLE SCOTT.OASK
	ADD
		CONSTRAINT FKOUSERTOOASK
		FOREIGN KEY (
			USERID
		)
		REFERENCES SCOTT.OUSER (
			USERID
		);

ALTER TABLE SCOTT.OREVURL
	ADD
		CONSTRAINT FKOREVIEWTOOREVURL
		FOREIGN KEY (
			REVID
		)
		REFERENCES SCOTT.OREVIEW (
			REVID
		);
-- 리뷰 테이블에 제품번호 컬럼 추가
ALTER TABLE oreview
ADD pdtid INT;

ALTER TABLE oreview
MODIFY pdtid NUMBER;

COMMENT ON COLUMN oreview.pdtid IS '제품ID';

-- 리뷰에 제품번호 FK로 주기
ALTER TABLE oreview
ADD CONSTRAINT fkoproduct
FOREIGN KEY (pdtid)
REFERENCES oproduct(pdtid);

-- 리뷰URL 테이블 수정 (포토 영상 구분 없애고 파일로서 관리)
ALTER TABLE orevurl DROP COLUMN rurlphoto;
ALTER TABLE orevurl DROP COLUMN rurlrecord;

ALTER TABLE orevurl ADD filesystemname VARCHAR2(100);
COMMENT ON COLUMN orevurl.filesystemname IS '파일명';

ALTER TABLE orevurl ADD fileoriginalname VARCHAR2(100);
COMMENT ON COLUMN orevurl.filesystemname IS '오리지널파일명';

ALTER TABLE orevurl ADD filelength NUMBER;
COMMENT ON COLUMN orevurl.filesystemname IS '파일용량';

--상품 설명을 추가하기 위해
--OPRODUCT 테이블에 PDTDESCRIPTION 칼럼 추가 및 값 추가

ALTER TABLE OPRODUCT
ADD ("PDTDESCRIPTION" NVARCHAR2(200));
